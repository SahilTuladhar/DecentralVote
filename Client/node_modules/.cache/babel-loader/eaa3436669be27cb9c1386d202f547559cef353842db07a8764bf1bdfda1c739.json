{"ast":null,"code":"import { beADate } from '../../fns.js';\nimport toISO from './_iso.js';\nimport getDiff from './getDiff.js';\nimport soften from './soften.js';\n//by spencermountain + Shaun Grady\n\n//create the human-readable diff between the two dates\nconst since = (start, end) => {\n  end = beADate(end, start);\n  const diff = getDiff(start, end);\n  const isNow = Object.keys(diff).every(u => !diff[u]);\n  if (isNow === true) {\n    return {\n      diff,\n      rounded: 'now',\n      qualified: 'now',\n      precise: 'now',\n      abbreviated: [],\n      iso: 'P0Y0M0DT0H0M0S',\n      direction: 'present'\n    };\n  }\n  let precise;\n  let direction = 'future';\n  let {\n    rounded,\n    qualified,\n    englishValues,\n    abbreviated\n  } = soften(diff);\n\n  //make them into a string\n  precise = englishValues.splice(0, 2).join(', ');\n  //handle before/after logic\n  if (start.isAfter(end) === true) {\n    rounded += ' ago';\n    qualified += ' ago';\n    precise += ' ago';\n    direction = 'past';\n  } else {\n    rounded = 'in ' + rounded;\n    qualified = 'in ' + qualified;\n    precise = 'in ' + precise;\n  }\n  // https://en.wikipedia.org/wiki/ISO_8601#Durations\n  // P[n]Y[n]M[n]DT[n]H[n]M[n]S \n  let iso = toISO(diff);\n  return {\n    diff,\n    rounded,\n    qualified,\n    precise,\n    abbreviated,\n    iso,\n    direction\n  };\n};\nexport default since;","map":{"version":3,"names":["beADate","toISO","getDiff","soften","since","start","end","diff","isNow","Object","keys","every","u","rounded","qualified","precise","abbreviated","iso","direction","englishValues","splice","join","isAfter"],"sources":["/Users/lasagna/DecentralVote/DecentralVote/node_modules/spacetime/src/methods/since/index.js"],"sourcesContent":["import { beADate } from '../../fns.js'\nimport toISO from './_iso.js'\nimport getDiff from './getDiff.js'\nimport soften from './soften.js'\n//by spencermountain + Shaun Grady\n\n//create the human-readable diff between the two dates\nconst since = (start, end) => {\n  end = beADate(end, start)\n  const diff = getDiff(start, end)\n  const isNow = Object.keys(diff).every((u) => !diff[u])\n  if (isNow === true) {\n    return {\n      diff,\n      rounded: 'now',\n      qualified: 'now',\n      precise: 'now',\n      abbreviated: [],\n      iso: 'P0Y0M0DT0H0M0S',\n      direction: 'present',\n    }\n  }\n  let precise\n  let direction = 'future'\n\n  let { rounded, qualified, englishValues, abbreviated } = soften(diff)\n\n  //make them into a string\n  precise = englishValues.splice(0, 2).join(', ')\n  //handle before/after logic\n  if (start.isAfter(end) === true) {\n    rounded += ' ago'\n    qualified += ' ago'\n    precise += ' ago'\n    direction = 'past'\n  } else {\n    rounded = 'in ' + rounded\n    qualified = 'in ' + qualified\n    precise = 'in ' + precise\n  }\n  // https://en.wikipedia.org/wiki/ISO_8601#Durations\n  // P[n]Y[n]M[n]DT[n]H[n]M[n]S \n  let iso = toISO(diff)\n  return {\n    diff,\n    rounded,\n    qualified,\n    precise,\n    abbreviated,\n    iso,\n    direction,\n  }\n}\n\nexport default since\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,cAAc;AACtC,OAAOC,KAAK,MAAM,WAAW;AAC7B,OAAOC,OAAO,MAAM,cAAc;AAClC,OAAOC,MAAM,MAAM,aAAa;AAChC;;AAEA;AACA,MAAMC,KAAK,GAAGA,CAACC,KAAK,EAAEC,GAAG,KAAK;EAC5BA,GAAG,GAAGN,OAAO,CAACM,GAAG,EAAED,KAAK,CAAC;EACzB,MAAME,IAAI,GAAGL,OAAO,CAACG,KAAK,EAAEC,GAAG,CAAC;EAChC,MAAME,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,KAAK,CAAEC,CAAC,IAAK,CAACL,IAAI,CAACK,CAAC,CAAC,CAAC;EACtD,IAAIJ,KAAK,KAAK,IAAI,EAAE;IAClB,OAAO;MACLD,IAAI;MACJM,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE,KAAK;MACdC,WAAW,EAAE,EAAE;MACfC,GAAG,EAAE,gBAAgB;MACrBC,SAAS,EAAE;IACb,CAAC;EACH;EACA,IAAIH,OAAO;EACX,IAAIG,SAAS,GAAG,QAAQ;EAExB,IAAI;IAAEL,OAAO;IAAEC,SAAS;IAAEK,aAAa;IAAEH;EAAY,CAAC,GAAGb,MAAM,CAACI,IAAI,CAAC;;EAErE;EACAQ,OAAO,GAAGI,aAAa,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC/C;EACA,IAAIhB,KAAK,CAACiB,OAAO,CAAChB,GAAG,CAAC,KAAK,IAAI,EAAE;IAC/BO,OAAO,IAAI,MAAM;IACjBC,SAAS,IAAI,MAAM;IACnBC,OAAO,IAAI,MAAM;IACjBG,SAAS,GAAG,MAAM;EACpB,CAAC,MAAM;IACLL,OAAO,GAAG,KAAK,GAAGA,OAAO;IACzBC,SAAS,GAAG,KAAK,GAAGA,SAAS;IAC7BC,OAAO,GAAG,KAAK,GAAGA,OAAO;EAC3B;EACA;EACA;EACA,IAAIE,GAAG,GAAGhB,KAAK,CAACM,IAAI,CAAC;EACrB,OAAO;IACLA,IAAI;IACJM,OAAO;IACPC,SAAS;IACTC,OAAO;IACPC,WAAW;IACXC,GAAG;IACHC;EACF,CAAC;AACH,CAAC;AAED,eAAed,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}