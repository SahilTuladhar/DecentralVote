{"ast":null,"code":"//pull-apart ISO offsets, like \"+0100\"\nconst parseOffset = (s, offset) => {\n  if (!offset) {\n    return s;\n  }\n\n  // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n  let num = 0;\n\n  // for (+-)hh:mm\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '');\n    }\n    //support \"+01:30\"\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5');\n    }\n  }\n\n  // for (+-)hhmm\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5');\n  }\n  num = parseFloat(offset);\n\n  //divide by 100 or 10 - , \"+0100\", \"+01\"\n  if (Math.abs(num) > 100) {\n    num = num / 100;\n  }\n  //this is a fancy-move\n  if (num === 0 || offset === 'Z' || offset === 'z') {\n    s.tz = 'etc/gmt';\n    return s;\n  }\n  //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n  num *= -1;\n  if (num >= 0) {\n    num = '+' + num;\n  }\n  let tz = 'etc/gmt' + num;\n  let zones = s.timezones;\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz;\n  }\n  return s;\n};\nexport default parseOffset;","map":{"version":3,"names":["parseOffset","s","offset","num","test","replace","parseFloat","Math","abs","tz","zones","timezones"],"sources":["/Users/lasagna/DecentralVote/DecentralVote/Client/node_modules/spacetime/src/input/formats/parseOffset.js"],"sourcesContent":["//pull-apart ISO offsets, like \"+0100\"\nconst parseOffset = (s, offset) => {\n  if (!offset) {\n    return s\n  }\n\n  // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n  let num = 0\n\n  // for (+-)hh:mm\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '')\n    }\n    //support \"+01:30\"\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5')\n    }\n  }\n\n  // for (+-)hhmm\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5')\n  }\n  num = parseFloat(offset)\n\n  //divide by 100 or 10 - , \"+0100\", \"+01\"\n  if (Math.abs(num) > 100) {\n    num = num / 100\n  }\n  //this is a fancy-move\n  if (num === 0 || offset === 'Z' || offset === 'z') {\n    s.tz = 'etc/gmt'\n    return s\n  }\n  //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n  num *= -1\n\n  if (num >= 0) {\n    num = '+' + num\n  }\n  let tz = 'etc/gmt' + num\n  let zones = s.timezones\n\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz\n  }\n  return s\n}\nexport default parseOffset\n"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAGA,CAACC,CAAC,EAAEC,MAAM,KAAK;EACjC,IAAI,CAACA,MAAM,EAAE;IACX,OAAOD,CAAC;EACV;;EAEA;EACA;EACA,IAAIE,GAAG,GAAG,CAAC;;EAEX;EACA,IAAI,2BAA2B,CAACC,IAAI,CAACF,MAAM,CAAC,EAAE;IAC5C;IACA,IAAI,KAAK,CAACE,IAAI,CAACF,MAAM,CAAC,KAAK,IAAI,EAAE;MAC/BA,MAAM,GAAGA,MAAM,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IACpC;IACA;IACA,IAAI,KAAK,CAACD,IAAI,CAACF,MAAM,CAAC,KAAK,IAAI,EAAE;MAC/BA,MAAM,GAAGA,MAAM,CAACG,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;IACtC;EACF;;EAEA;EACA,IAAI,kBAAkB,CAACD,IAAI,CAACF,MAAM,CAAC,EAAE;IACnCA,MAAM,GAAGA,MAAM,CAACG,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;EACtC;EACAF,GAAG,GAAGG,UAAU,CAACJ,MAAM,CAAC;;EAExB;EACA,IAAIK,IAAI,CAACC,GAAG,CAACL,GAAG,CAAC,GAAG,GAAG,EAAE;IACvBA,GAAG,GAAGA,GAAG,GAAG,GAAG;EACjB;EACA;EACA,IAAIA,GAAG,KAAK,CAAC,IAAID,MAAM,KAAK,GAAG,IAAIA,MAAM,KAAK,GAAG,EAAE;IACjDD,CAAC,CAACQ,EAAE,GAAG,SAAS;IAChB,OAAOR,CAAC;EACV;EACA;EACA;EACA;EACAE,GAAG,IAAI,CAAC,CAAC;EAET,IAAIA,GAAG,IAAI,CAAC,EAAE;IACZA,GAAG,GAAG,GAAG,GAAGA,GAAG;EACjB;EACA,IAAIM,EAAE,GAAG,SAAS,GAAGN,GAAG;EACxB,IAAIO,KAAK,GAAGT,CAAC,CAACU,SAAS;EAEvB,IAAID,KAAK,CAACD,EAAE,CAAC,EAAE;IACb;IACA;IACAR,CAAC,CAACQ,EAAE,GAAGA,EAAE;EACX;EACA,OAAOR,CAAC;AACV,CAAC;AACD,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}