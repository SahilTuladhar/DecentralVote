{"ast":null,"code":"import Spacetime from './spacetime.js';\n// const timezones = require('../data');\n\nconst whereIts = (a, b) => {\n  let start = new Spacetime(null);\n  let end = new Spacetime(null);\n  start = start.time(a);\n  //if b is undefined, use as 'within one hour'\n  if (b) {\n    end = end.time(b);\n  } else {\n    end = start.add(59, 'minutes');\n  }\n  let startHour = start.hour();\n  let endHour = end.hour();\n  let tzs = Object.keys(start.timezones).filter(tz => {\n    if (tz.indexOf('/') === -1) {\n      return false;\n    }\n    let m = new Spacetime(null, tz);\n    let hour = m.hour();\n    //do 'calendar-compare' not real-time-compare\n    if (hour >= startHour && hour <= endHour) {\n      //test minutes too, if applicable\n      if (hour === startHour && m.minute() < start.minute()) {\n        return false;\n      }\n      if (hour === endHour && m.minute() > end.minute()) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  });\n  return tzs;\n};\nexport default whereIts;","map":{"version":3,"names":["Spacetime","whereIts","a","b","start","end","time","add","startHour","hour","endHour","tzs","Object","keys","timezones","filter","tz","indexOf","m","minute"],"sources":["/Users/lasagna/DecentralVote/DecentralVote/Client/node_modules/spacetime/src/whereIts.js"],"sourcesContent":["import Spacetime from './spacetime.js'\n// const timezones = require('../data');\n\nconst whereIts = (a, b) => {\n  let start = new Spacetime(null)\n  let end = new Spacetime(null)\n  start = start.time(a)\n  //if b is undefined, use as 'within one hour'\n  if (b) {\n    end = end.time(b)\n  } else {\n    end = start.add(59, 'minutes')\n  }\n\n  let startHour = start.hour()\n  let endHour = end.hour()\n  let tzs = Object.keys(start.timezones).filter((tz) => {\n    if (tz.indexOf('/') === -1) {\n      return false\n    }\n    let m = new Spacetime(null, tz)\n    let hour = m.hour()\n    //do 'calendar-compare' not real-time-compare\n    if (hour >= startHour && hour <= endHour) {\n      //test minutes too, if applicable\n      if (hour === startHour && m.minute() < start.minute()) {\n        return false\n      }\n      if (hour === endHour && m.minute() > end.minute()) {\n        return false\n      }\n      return true\n    }\n    return false\n  })\n  return tzs\n}\nexport default whereIts\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,gBAAgB;AACtC;;AAEA,MAAMC,QAAQ,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;EACzB,IAAIC,KAAK,GAAG,IAAIJ,SAAS,CAAC,IAAI,CAAC;EAC/B,IAAIK,GAAG,GAAG,IAAIL,SAAS,CAAC,IAAI,CAAC;EAC7BI,KAAK,GAAGA,KAAK,CAACE,IAAI,CAACJ,CAAC,CAAC;EACrB;EACA,IAAIC,CAAC,EAAE;IACLE,GAAG,GAAGA,GAAG,CAACC,IAAI,CAACH,CAAC,CAAC;EACnB,CAAC,MAAM;IACLE,GAAG,GAAGD,KAAK,CAACG,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC;EAChC;EAEA,IAAIC,SAAS,GAAGJ,KAAK,CAACK,IAAI,CAAC,CAAC;EAC5B,IAAIC,OAAO,GAAGL,GAAG,CAACI,IAAI,CAAC,CAAC;EACxB,IAAIE,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACT,KAAK,CAACU,SAAS,CAAC,CAACC,MAAM,CAAEC,EAAE,IAAK;IACpD,IAAIA,EAAE,CAACC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;MAC1B,OAAO,KAAK;IACd;IACA,IAAIC,CAAC,GAAG,IAAIlB,SAAS,CAAC,IAAI,EAAEgB,EAAE,CAAC;IAC/B,IAAIP,IAAI,GAAGS,CAAC,CAACT,IAAI,CAAC,CAAC;IACnB;IACA,IAAIA,IAAI,IAAID,SAAS,IAAIC,IAAI,IAAIC,OAAO,EAAE;MACxC;MACA,IAAID,IAAI,KAAKD,SAAS,IAAIU,CAAC,CAACC,MAAM,CAAC,CAAC,GAAGf,KAAK,CAACe,MAAM,CAAC,CAAC,EAAE;QACrD,OAAO,KAAK;MACd;MACA,IAAIV,IAAI,KAAKC,OAAO,IAAIQ,CAAC,CAACC,MAAM,CAAC,CAAC,GAAGd,GAAG,CAACc,MAAM,CAAC,CAAC,EAAE;QACjD,OAAO,KAAK;MACd;MACA,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF,OAAOR,GAAG;AACZ,CAAC;AACD,eAAeV,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}