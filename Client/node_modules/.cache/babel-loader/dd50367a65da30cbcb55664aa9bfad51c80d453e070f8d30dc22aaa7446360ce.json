{"ast":null,"code":"import { normalize } from '../fns.js';\nconst units = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\nconst doUnit = function (s, k) {\n  let start = s.clone().startOf(k);\n  let end = s.clone().endOf(k);\n  let duration = end.epoch - start.epoch;\n  let percent = (s.epoch - start.epoch) / duration;\n  return parseFloat(percent.toFixed(2));\n};\n\n//how far it is along, from 0-1\nconst progress = (s, unit) => {\n  if (unit) {\n    unit = normalize(unit);\n    return doUnit(s, unit);\n  }\n  let obj = {};\n  units.forEach(k => {\n    obj[k] = doUnit(s, k);\n  });\n  return obj;\n};\nexport default progress;","map":{"version":3,"names":["normalize","units","doUnit","s","k","start","clone","startOf","end","endOf","duration","epoch","percent","parseFloat","toFixed","progress","unit","obj","forEach"],"sources":["/Users/lasagna/DecentralVote/DecentralVote/Client/node_modules/spacetime/src/methods/progress.js"],"sourcesContent":["import { normalize } from '../fns.js'\nconst units = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute']\n\nconst doUnit = function (s, k) {\n  let start = s.clone().startOf(k)\n  let end = s.clone().endOf(k)\n  let duration = end.epoch - start.epoch\n  let percent = (s.epoch - start.epoch) / duration\n  return parseFloat(percent.toFixed(2))\n}\n\n//how far it is along, from 0-1\nconst progress = (s, unit) => {\n  if (unit) {\n    unit = normalize(unit)\n    return doUnit(s, unit)\n  }\n  let obj = {}\n  units.forEach(k => {\n    obj[k] = doUnit(s, k)\n  })\n  return obj\n}\n\nexport default progress\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,WAAW;AACrC,MAAMC,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,QAAQ,CAAC;AAEpG,MAAMC,MAAM,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;EAC7B,IAAIC,KAAK,GAAGF,CAAC,CAACG,KAAK,CAAC,CAAC,CAACC,OAAO,CAACH,CAAC,CAAC;EAChC,IAAII,GAAG,GAAGL,CAAC,CAACG,KAAK,CAAC,CAAC,CAACG,KAAK,CAACL,CAAC,CAAC;EAC5B,IAAIM,QAAQ,GAAGF,GAAG,CAACG,KAAK,GAAGN,KAAK,CAACM,KAAK;EACtC,IAAIC,OAAO,GAAG,CAACT,CAAC,CAACQ,KAAK,GAAGN,KAAK,CAACM,KAAK,IAAID,QAAQ;EAChD,OAAOG,UAAU,CAACD,OAAO,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC;;AAED;AACA,MAAMC,QAAQ,GAAGA,CAACZ,CAAC,EAAEa,IAAI,KAAK;EAC5B,IAAIA,IAAI,EAAE;IACRA,IAAI,GAAGhB,SAAS,CAACgB,IAAI,CAAC;IACtB,OAAOd,MAAM,CAACC,CAAC,EAAEa,IAAI,CAAC;EACxB;EACA,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZhB,KAAK,CAACiB,OAAO,CAACd,CAAC,IAAI;IACjBa,GAAG,CAACb,CAAC,CAAC,GAAGF,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAC,CAAC;EACF,OAAOa,GAAG;AACZ,CAAC;AAED,eAAeF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}